---
title: "Horror Movie Visualizations"
subtitle: "Proposal"
name: "Viz-Villains: Chris Liang, Kevin Ordet, Chris Tsai, Jason Zhang"
format: html
editor: visual
---


```{r load-packages, echo = FALSE, message = FALSE, warning = FALSE}
library(tidyverse)
library(broom)
library(patchwork)
library(dplyr)
library(knitr)
```

```{r read-data, message = FALSE, warning = FALSE}
horror_movies <- read.csv("data/horror_movies.csv")
```


# Dataset

The Horror Movies data include `r nrow(horror_movies)` entries, with `r ncol(horror_movies)` variables (e.g. the movie name, release date, runtime, etc.). Each entry represents a horror movie released starting from the 1950s. The data were extracted from [The Movie Database](https://www.themoviedb.org) via tmdb API using R `httr` .

We chose the data because it had a healthy amount of both numerical and categorical variables that we thought could produce a variety of visualizations. Additionally, none of us are horror movie fans, so we thought this exploration into a genre we are unfamiliar with would be an enlightening experience.

# Questions

### Question 1:
How is the popularity of a released horror movie impacted by the environment that it was released in (i.e. how do time and context affect movie popularity)? 

### Question 2:
Are there certain sub-genres of horror (e.g. thriller, comedy, drama) that perform better than others?

# Analysis plan

The unique identifier for each movie is "id" -- and we would clean the data to remove NAs for id, release_data, budget, revenue, and popularity, because those are the characteristics that we intend to look at for analysis. However a simply `r drop_na()` showed that all the data include these variables, and removing the NAs for these variables does not remove any observations.

### Analysis plan question 1:

We know the first question is vague and it is purposely so, but we hope to make it more clear what we're trying to answer via our analysis and data visualizations. When we say "environment", we mean the context of time of release, as the year of release is linked to different economic environments, different budgets for entertainment, different social norms and audience reception to horror, etc. 

Our first plan of action is to create a visualization that will look at how the popularity of horror movies have changed overtime. We will use the popularity and release_date variables for this visualization. For this visualization, we can use `r geom_point()` to create a scatterplot with the x-axis being the release_date, and the y-axis being the popularity of the horror movie. Then, we can add `r geom_smooth()` to show a trend line. We can also create a line graph to show popularity of horror movies over time using `r geom_line()`.


Another visualization will look at the same thing, but group by whether the movie is low budget or high budget (have high budget horror movies increased in popularity over time?). We will have to mutate a new categorical variable and add it to the dataset that determines whether the movie is high or low budget. We will choose a certain cutoff for high or low budget based on some sort of summary statistic of the budgets for movies for that year. Along with that newly mutated variable we will use the popularity and release_date variable. With this plot, we can create two line graphs using `r geom_line()` and set color to the newly mutated categorical variable to indicate whether the movie was high or low budget. We can also once again use `r geom_point()` and `r geom_smooth()` with release_date as the x-axis and popularity as y-axis, and then either facet by the high/low budget variable, or use color to indicate the high/low budget variable.

Third, we will want to look at how the popularity of horror movies increases or decreases after a high profile horror movie is released (either a highly popular, or high budget film). We will use the variables popularity, release_date, and budget for this analysis. We will mutate a new variable that captures the upper extreme of movies that are either an extremely high budget or an extremely high popularity post release -- this will be a categorical variable of 2 levels, with "high profile" or "normal movie" as levels. We will have to determine some sort of cutoff based on summary statistics or a fitting threshold for what is "high profile". Afterwards, we are using the original `r geom_line()` plot, but we add dashed vertical lines (vline) that are at the x-intercepts for the release date of each movie that was extremely high profile to see if the popularity dips after that high profile movie was released.

Our last rough idea of a visualization we might want to create is one that looks at how the popularity of foreign language horror films has increased or decreased over time. We'll use the release_date as the x-axis, the popularity as the y-axis, and involve the original_language variable as a differentiator between levels. Here, we can create multiple line graphs using `r geom_line()` with color set to the language of the film to show a difference in popularity of foreign language films over time.

The above plans for visualizations can be tweaked--there are many ways to represent time series data, where the most obvious ones are with scatterplots over time or line graphs over time. However, as we work through our visualizations, we will be able to tweak or add other visualizations to represent the popularity and time trends.

### Analysis plan question 2
For the second question, we aim to look at the variable genre_names, which includes the genres that the movie falls into. Horror, for obvious reasons, is included in the value for the observations of this variable. On top of that, many observations have extra tagged genres, such as drama, thriller, etc. That variable is currently of type character (a string in R), so we can use a delimiter to separate it into different variables for each sub genre. We intend to make indicator variables: beyond horror, it will be Thriller: 0 or 1, 0 for thriller is not included in the extra genre taglines, 1 for if it is. We'll take the top several genres to make indicator variables and discard the rest that have very few tagged -- let's say "Adventure" is too rare a subgenre taged in genre_names, we'll just make indicator variables for the top X occurring subgenres. Afterwards, we can treat these indicator variables as binary categorical variables and create visualizations to compare the indicator variables against reception metrics such as popularity. Using these binary indicator variables can also help us create linear models with binary predictors -- does having a certain subgenre correlate with better reception? We can also mutate genre_names to be a categorical variable with multiple levels, and create visualizations with bar charts, stacked bar charts, etc. all using reception metrics as the basis of comparison.

